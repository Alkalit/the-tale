{% extends "forum/base.html" %}

{% import 'macros.html' as base_macros with context %}
{% import 'forum/macros.html' as forum_macros with context %}

{% block title %}{{ super() }}{% endblock %}

{% block forum_content %}

<ul class="breadcrumb">
  <li><a href="{{ url('forum:') }}">Форум</a><span class="divider">/</span></li>
  <li>
    {% if author_account %}
    автор: {{author_account.user.username}}
    {% endif %}

    {% if participant_account %}
    участник: {{participant_account.user.username}}
    {% endif %}

  </li>
</ul>


{% if paginator.records_number %}

{{ base_macros.render_paginator(paginator) }}

<table class="table table-striped forum-table">
  <thead>
    <tr>
      <th class="caption">название</th>
      <th class="author">автор</th>
      <th class="posts-count">ответов</th>
      <th class="last-poster">последний</th>
      <th class="updated-at">обновлено</th>
    </tr>
  </thead>
  <tbody>
    {% for thread in threads %}
    <tr>
      {{ forum_macros.thread_record(thread) }}
    </tr>
    {% endfor %}
  </tbody>
</table>

{{ base_macros.render_paginator(paginator) }}

{% else %}

<p>
  Обсуждения не найдены
</p>

{% endif %}

{% endblock %}
