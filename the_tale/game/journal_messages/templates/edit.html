
{% extends "base.html" %}

{% block head %}
<script src="{{ STATIC_URL }}game/widgets.js" type="text/javascript"></script>
<script type="text/javascript">

jQuery(document).ready(function(e){

    var editPatternForm = new pgf.forms.Form(jQuery('#js-edit-pattern-form'),
                                            {OnSuccess: function(e){location.href = "{{ url('index') }}";}});
});

</script>
{% endblock %}

{% block content %}
<div>( {{ pattern.id }} ) pattern.type ( {{ pattern.author }} / {{ pattern.editor }})</div>
<div>
  <a class="pgf-link-load-on-success" 
     href="{{ url('game:journal_messages:approve', pattern.id) }}" 
     data-dest="{{ url('game:journal_messages:', type='unapproved') }}">approve</a>
  <a class="pgf-link-load-on-success" 
     href="{{ url('game:journal_messages:remove', pattern.id) }}" 
     data-dest="{{ url('game:journal_messages:', type='unapproved') }}">remove</a>
</div>
<form id="js-edit-pattern-form" method="post" action="{{ url('game:journal_messages:update', pattern.id) }}">

  {{ form.errors_container }}

  {{ form.text.widget}}

  {{ form.comment.widget }}

  <input type="submit" value="Ok"/>

</form>
{% endblock %}
