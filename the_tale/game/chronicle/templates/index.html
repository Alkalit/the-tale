{% extends "chronicle/base.html" %}

{% import 'macros.html' as base_macros with context %}
{% import 'chronicle/macros.html' as chronicle_macros with context %}
{% import 'utils/list_filter.html' as list_filter_macros with context %}

{% block title %}{{ super() }}{% endblock %}
{% block description %}Летопись Пандоры, в которой перечислены все важные события, происходившие в её истории.{% endblock %}

{% block chronicle_content %}

<h2 style="margin-bottom: 0.5em;">Летопись</h2>

<p>
  В летопись Пандоры заносятся все важные события, происходящие в мире. Ничто не укроется от пристального взгляда духов-летописцев.
</p>

{{ list_filter_macros.html_filter(index_filter) }}

{% if records %}

{{ base_macros.render_paginator(paginator) }}

<table class="table">
  <thead>
    <tr>
      <th>дата</th>
      <th>событие</th>
    </tr>
  </thead>
  <tbody>
    {% for record in records %}
    {{ chronicle_macros.chronicle_record(record) }}
    {% endfor %}
  </tbody>
</table>

{{ base_macros.render_paginator(paginator) }}

{% else %}
<span class="pgf-no-records-message">Не найдено записей, отвечающих условиям поиска</span>
{% endif %}

{% endblock %}
